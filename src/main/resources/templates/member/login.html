<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<!-- ===== CSS (회원가입과 동일 톤) ===== -->
<th:block layout:fragment="css">
<style>
  :root{
    --page-bg:#101828;
    --card-bg:rgba(255,255,255,.08);
    --card-br:rgba(99,102,241,.30);
    --text:#eef2f6;
    --muted:#b6c2cf;

    --field-bg:#141c2f;
    --field-br:#3a4a63;
    --field-br-focus:#5ea2ff;

    --btn-grad:linear-gradient(135deg,#60a5fa,#34d399);
    --danger:#ef4444;

    --shadow:0 16px 44px rgba(0,0,0,.45);
  }

  body{ background:var(--page-bg); color:var(--text); }

  /* 제목 그라데이션 */
  .brand-title{
    background:var(--btn-grad);
    -webkit-background-clip:text;
    background-clip:text;
    color:transparent;
  }

  /* 카드 */
  .card.brand-card{
    background:var(--card-bg);
    border:1px solid var(--card-br);
    box-shadow:var(--shadow);
    border-radius:1rem;
    overflow:hidden;
  }
  .card-header.brand-header{
    background:linear-gradient(135deg, rgba(79,70,229,.25), rgba(6,182,212,.25));
    border-bottom:1px solid var(--card-br);
    color:var(--text);
    text-align:center;
    padding:1rem;
  }

  /* 입력 컨트롤 */
  .form-control{
    background:var(--field-bg);
    color:var(--text);
    border:1px solid var(--field-br);
    box-shadow:none !important;
  }
  .form-control::placeholder{ color:#94a3b8; }
  .form-control:focus{
    border-color:var(--field-br-focus) !important;
    box-shadow:0 0 0 .2rem rgba(59,130,246,.15) !important;
  }

  /* 버튼 */
  .btn-brand{
    background:var(--btn-grad);
    border:0;
    color:#0b1020;
  }
  .btn-brand:hover{ filter:brightness(1.05); }
  .btn-ghost{
    background:transparent;
    border:1px solid var(--field-br);
    color:var(--text);
  }
  .btn-ghost:hover{
    border-color:var(--field-br-focus);
    color:#dbeafe;
  }

  /* 라벨 */
  label.form-label{ color:#eef2f6; }
</style>
</th:block>

<!-- ===== SCRIPT: 로그인 실패 처리 ===== -->
<th:block layout:fragment="script2">
<script th:inline="javascript">
  let status = [[${status}]]; // pwFail, idFail
  if(status === 'idFail'){
    alert("아이디를 확인하세요");
    document.getElementById("mbsp_id").focus();
  } else if(status === 'pwFail'){
    alert("비밀번호를 확인하세요");
    document.getElementById("mbsp_password").focus();
  }
</script>
</th:block>

<!-- ===== CONTENT ===== -->
<th:block layout:fragment="content">
<div class="container mt-5">
  <h2 class="text-center mb-5 fw-bold brand-title">로그인</h2>

<div class="row justify-content-center">
  <div class="col-lg-5 col-md-7">
    <div class="card brand-card">
      <div class="card-header brand-header text-center">
        <!-- 로고 이미지 -->
        <img src="/images/logo.png" alt="MSGSHOP 로고" style="height:36px; width:auto;">
      </div>


        <form class="p-4" action="/member/login" method="post">
          <!-- 아이디 -->
          <div class="mb-3">
            <label for="mbsp_id" class="form-label fw-semibold">아이디</label>
            <input type="text" class="form-control" id="mbsp_id" name="mbsp_id" placeholder="아이디 입력">
          </div>

          <!-- 비밀번호 -->
          <div class="mb-3">
            <label for="mbsp_password" class="form-label fw-semibold">비밀번호</label>
            <input type="password" class="form-control" id="mbsp_password" name="mbsp_password" placeholder="비밀번호 입력">
          </div>

          <!-- 버튼 -->
          <div class="text-center mt-4 d-flex justify-content-center gap-3">
		    <button type="submit" class="btn btn-brand px-5 py-2 fw-semibold shadow-sm">로그인</button>
		    <a href="/member/lostpass" class="btn btn-ghost px-5 py-2">ID/PW 찾기</a>
		  </div>
        </form>
      <div class="mb-3  text-center">
			<a href="javascript:void(0)"  th:onclick="javascript:fnClick();" style="cursor: pointer;">
				<img src="/image/sns/kakao_login_medium_wide.png">
			</a>
		</div>
      </div>
    </div>
  </div>
</div>
<script th:inline="javascript">
// REST API
		function fnClick() {
			location.href = [[${location}]]
		};
</script>
</th:block>

</html>
